config:
  # Deepgram settings
  deepgram_model: "nova-3"
  interim_results: true
  punctuate: true
  endpointing: true
  
  # Command matching
  confidence_threshold: 0.75
  match_threshold: 0.80  # fuzzywuzzy ratio (0-1)
  
  # Audio settings
  sample_rate: 16000
  channels: 1
  chunk_size: 4096
  
  # Feedback
  enable_feedback: true
  feedback_type: "visual"  # visual, audio, or both

commands:
  # Click at current cursor position (generic) - MUST BE BEFORE focus_chat
  - id: "click_current"
    triggers:
      - "click"
      - "click here"
      - "left click"
      - "click now"
    action: click
    coordinates: [0, 0]  # Uses current cursor position
    feedback: "Clicked"

  # CONTEXT-AWARE: Open applications
  # Usage: "open chrome", "open ide", "open music", etc.
  # Invalid: "open toggle focus" (toggle focus not a valid app alias)
  - id: "context_open_app"
    action: "context_open"
    primary_trigger: "open"
    apps:
      cursor:
        triggers: ["cursor", "ide", "code"]
        action: launch
        app: "Cursor"
        feedback: "Opening Cursor"
      
      chrome:
        triggers: ["chrome", "browser", "google"]
        action: launch
        app: "Google Chrome"
        feedback: "Opening Chrome"
      
      slack:
        triggers: ["slack"]
        action: launch
        app: "Slack"
        feedback: "Opening Slack"
      
      terminal:
        triggers: ["terminal", "shell"]
        action: launch
        app: "Terminal"
        feedback: "Opening Terminal"
      
      spotify:
        triggers: ["spotify", "music"]
        action: launch
        app: "Spotify"
        feedback: "Opening Spotify"

  # CONTEXT-AWARE: Start modes
  # Usage: "start dictation", "start manual"
  - id: "context_start_mode"
    action: "context_mode"
    primary_trigger: "start"
    modes:
      dictation:
        triggers: ["dictation", "dictate"]
        action: mode
        mode: "dictation"
        feedback: "Starting dictation mode"
      
      manual:
        triggers: ["manual", "manual mode"]
        action: mode
        mode: "manual"
        feedback: "Starting manual mode"

  # CONTEXT-AWARE: Stop modes
  # Usage: "stop dictation", "stop manual"
  - id: "context_stop_mode"
    action: "context_mode"
    primary_trigger: "stop"
    modes:
      dictation:
        triggers: ["dictation", "dictate"]
        action: mode
        mode: "normal"
        feedback: "Stopping dictation mode"
      
      manual:
        triggers: ["manual", "manual mode"]
        action: mode
        mode: "normal"
        feedback: "Stopping manual mode"

  # CONTEXT-AWARE: Close applications
  # Usage: "close cursor", "close chrome", "close app"
  - id: "context_close_app"
    action: "context_close"
    primary_trigger: "close"
    apps:
      cursor:
        triggers: ["cursor", "ide", "code"]
        action: "close"
        app: "Cursor"
        feedback: "Closing Cursor"
      
      chrome:
        triggers: ["chrome", "browser"]
        action: "close"
        app: "Google Chrome"
        feedback: "Closing Chrome"
      
      slack:
        triggers: ["slack"]
        action: "close"
        app: "Slack"
        feedback: "Closing Slack"
      
      terminal:
        triggers: ["terminal", "shell"]
        action: "close"
        app: "Terminal"
        feedback: "Closing Terminal"
      
      spotify:
        triggers: ["spotify", "music"]
        action: "close"
        app: "Spotify"
        feedback: "Closing Spotify"

  # Smart chat focus - context-aware for different apps
  - id: "focus_chat"
    triggers:
      - "focus chat"
      - "click chat"
      - "focus cursor chat"
      - "chat focus"
    action: click
    # Default coordinates (if active app not found)
    coordinates: [1449, 912]
    # App-specific coordinates
    app_coordinates:
      Cursor: [1449, 912]
      "Google Chrome": [2116, 87]  # Chrome search/address bar
      Safari: [1920, 45]  # Safari search bar
    feedback: "Focusing chat"

  # File explorer
  - id: "open_files"
    triggers:
      - "open files"
      - "file explorer"
      - "open file browser"
      - "files"
    action: keystroke
    keys: ["cmd", "b"]
    feedback: "Opening files panel"

  # Terminal
  - id: "open_terminal"
    triggers:
      - "open terminal"
      - "terminal"
      - "new terminal"
    action: launch
    app: "Terminal"
    feedback: "Opening terminal"

  # Toggle terminal
  - id: "toggle_terminal"
    triggers:
      - "toggle terminal"
      - "show terminal"
      - "hide terminal"
      - "terminal toggle"
    action: keystroke
    keys: ["cmd", "j"]
    feedback: "Toggling terminal"

  # Browser
  - id: "open_chrome"
    triggers:
      - "open chrome"
      - "open browser"
      - "chrome"
      - "browser"
    action: launch
    app: "Google Chrome"
    feedback: "Opening Chrome"

  # App switcher
  - id: "switch_app"
    triggers:
      - "switch app"
      - "next app"
      - "tab window"
    action: keystroke
    keys: ["cmd", "tab"]
    feedback: "Switching app"

  # Code editing shortcuts
  - id: "comment_line"
    triggers:
      - "comment"
      - "toggle comment"
      - "comment line"
    action: keystroke
    keys: ["cmd", "slash"]
    feedback: "Toggled comment"

  - id: "duplicate_line"
    triggers:
      - "duplicate"
      - "duplicate line"
    action: keystroke
    keys: ["cmd", "shift", "d"]
    feedback: "Duplicated line"

  - id: "delete_line"
    triggers:
      - "delete line"
      - "remove line"
    action: keystroke
    keys: ["cmd", "shift", "k"]
    feedback: "Deleted line"

  # Copy
  - id: "copy"
    triggers:
      - "copy"
      - "copy that"
    action: keystroke
    keys: ["cmd", "c"]
    feedback: "Copied"

  # Paste
  - id: "paste"
    triggers:
      - "paste"
      - "paste that"
    action: keystroke
    keys: ["cmd", "v"]
    feedback: "Pasted"

  # Undo
  - id: "undo"
    triggers:
      - "undo"
      - "undo that"
    action: keystroke
    keys: ["cmd", "z"]
    feedback: "Undo"

  # Save
  - id: "save"
    triggers:
      - "save"
      - "save file"
      - "save that"
    action: keystroke
    keys: ["cmd", "s"]
    feedback: "Saving"

  # Zoom in
  - id: "zoom_in"
    triggers:
      - "zoom in"
      - "bigger"
    action: keystroke
    keys: ["cmd", "plus"]
    feedback: "Zooming in"

  # Zoom out
  - id: "zoom_out"
    triggers:
      - "zoom out"
      - "smaller"
    action: keystroke
    keys: ["cmd", "minus"]
    feedback: "Zooming out"

  # Search
  - id: "search"
    triggers:
      - "search"
      - "find"
      - "search for"
    action: keystroke
    keys: ["cmd", "f"]
    feedback: "Opening search"

  # Close window
  - id: "close_window"
    triggers:
      - "close window"
      - "close this"
      - "close"
    action: keystroke
    keys: ["cmd", "w"]
    feedback: "Closing window"

  # New window
  - id: "new_window"
    triggers:
      - "new window"
      - "open new window"
    action: keystroke
    keys: ["cmd", "n"]
    feedback: "Opening new window"

  # Refresh
  - id: "refresh"
    triggers:
      - "refresh"
      - "reload"
    action: keystroke
    keys: ["cmd", "r"]
    feedback: "Refreshing"

  # Cursor AI commands
  - id: "cursor_chat"
    triggers:
      - "chat"
      - "cursor chat"
      - "ask cursor"
      - "open chat"
    action: keystroke
    keys: ["cmd", "k"]
    feedback: "Opening Cursor chat"

  - id: "cursor_edit"
    triggers:
      - "edit"
      - "cursor edit"
      - "inline edit"
    action: keystroke
    keys: ["cmd", "i"]
    feedback: "Opening cursor edit"

  - id: "cursor_composer"
    triggers:
      - "composer"
      - "multi edit"
      - "open composer"
    action: keystroke
    keys: ["cmd", "shift", "l"]
    feedback: "Opening Cursor composer"

  # Window resizing (using macOS Mission Control + arrow keys)
  - id: "maximize_window"
    triggers:
      - "maximize"
      - "full screen"
      - "maximize window"
    action: keystroke
    keys: ["cmd", "ctrl", "f"]
    feedback: "Maximizing window"

  - id: "minimize_window"
    triggers:
      - "minimize"
      - "minimize window"
    action: keystroke
    keys: ["cmd", "m"]
    feedback: "Minimizing window"

  # Tile windows (macOS Mission Control snapping)
  - id: "tile_left"
    triggers:
      - "tile left"
      - "snap left"
      - "window left"
    action: keystroke
    keys: ["cmd", "ctrl", "left"]
    feedback: "Tiling window to left"

  - id: "tile_right"
    triggers:
      - "tile right"
      - "snap right"
      - "window right"
    action: keystroke
    keys: ["cmd", "ctrl", "right"]
    feedback: "Tiling window to right"

  - id: "tile_up"
    triggers:
      - "tile up"
      - "snap top"
      - "window top"
    action: keystroke
    keys: ["cmd", "ctrl", "up"]
    feedback: "Tiling window to top"

  - id: "tile_down"
    triggers:
      - "tile down"
      - "snap bottom"
      - "window bottom"
    action: keystroke
    keys: ["cmd", "ctrl", "down"]
    feedback: "Tiling window to bottom"

  # Focus apps
  - id: "focus_chrome"
    triggers:
      - "focus chrome"
      - "focus google chrome"
      - "switch to chrome"
      - "chrome"
    action: focus
    app: "Google Chrome"
    feedback: "Focusing Chrome"

  - id: "focus_safari"
    triggers:
      - "focus safari"
      - "switch to safari"
      - "safari"
    action: focus
    app: "Safari"
    feedback: "Focusing Safari"

  - id: "focus_vscode"
    triggers:
      - "focus vscode"
      - "focus code"
      - "switch to vscode"
      - "vscode"
    action: focus
    app: "Visual Studio Code"
    feedback: "Focusing VS Code"

  - id: "focus_terminal"
    triggers:
      - "focus terminal"
      - "switch to terminal"
      - "terminal focus"
    action: focus
    app: "Terminal"
    feedback: "Focusing Terminal"

  - id: "focus_finder"
    triggers:
      - "focus finder"
      - "switch to finder"
      - "finder"
    action: focus
    app: "Finder"
    feedback: "Focusing Finder"

  # Send/Submit via Enter key
  - id: "send"
    triggers:
      - "send"
      - "submit"
      - "enter"
      - "return"
    action: keystroke
    keys: ["return"]
    feedback: "Sending"

  # Show available commands
  - id: "show_help"
    triggers:
      - "help"
      - "show commands"
      - "list commands"
      - "what can i do"
      - "commands"
    action: help
    feedback: "Showing available commands"

  # Scrolling
  - id: "scroll_up"
    triggers:
      - "scroll up"
      - "scroll up"
      - "page up"
    action: keystroke
    keys: ["pageup"]
    feedback: "Scrolling up"

  - id: "scroll_down"
    triggers:
      - "scroll down"
      - "page down"
    action: keystroke
    keys: ["pagedown"]
    feedback: "Scrolling down"

  - id: "scroll_top"
    triggers:
      - "scroll top"
      - "go to top"
      - "top"
    action: keystroke
    keys: ["cmd", "Home"]
    feedback: "Scrolling to top"

  - id: "scroll_bottom"
    triggers:
      - "scroll bottom"
      - "go to bottom"
      - "bottom"
    action: keystroke
    keys: ["cmd", "End"]
    feedback: "Scrolling to bottom"

  # Arrow key controls
  - id: "arrow_up"
    triggers:
      - "arrow up"
      - "up arrow"
    action: keystroke
    keys: ["up"]
    feedback: "Arrow up"

  - id: "arrow_down"
    triggers:
      - "arrow down"
      - "down arrow"
    action: keystroke
    keys: ["down"]
    feedback: "Arrow down"

  - id: "arrow_left"
    triggers:
      - "arrow left"
      - "left arrow"
    action: keystroke
    keys: ["left"]
    feedback: "Arrow left"

  - id: "arrow_right"
    triggers:
      - "arrow right"
      - "right arrow"
    action: keystroke
    keys: ["right"]
    feedback: "Arrow right"

  # Spotify controls
  - id: "toggle_spotify"
    triggers:
      - "play"
      - "pause"
      - "toggle music"
      - "play pause"
      - "stop music"
    action: keystroke
    keys: ["f8"]
    feedback: "Toggling Spotify"

  - id: "spotify_next"
    triggers:
      - "next song"
      - "next track"
      - "skip"
    action: keystroke
    keys: ["f9"]
    feedback: "Skipping to next track"

  - id: "spotify_previous"
    triggers:
      - "previous song"
      - "previous track"
      - "back"
    action: keystroke
    keys: ["f7"]
    feedback: "Going to previous track"

  # Clear all text
  - id: "clear"
    triggers:
      - "clear"
      - "delete all"
      - "clear all"
      - "select all"
    action: keystroke
    keys: ["cmd", "a"]
    feedback: "Selecting all"

  - id: "delete_selected"
    triggers:
      - "delete"
      - "remove"
    action: keystroke
    keys: ["Delete"]
    feedback: "Deleting"

  # Accept changes (keep all button)
  - id: "accept_changes"
    triggers:
      - "accept changes"
      - "keep all"
      - "accept"
    action: keystroke
    keys: ["cmd", "return"]
    feedback: "Accepting changes"

  # Kill process (Ctrl+C)
  - id: "kill_process"
    triggers:
      - "kill process"
      - "stop process"
      - "interrupt"
      - "kill"
    action: keystroke
    keys: ["ctrl", "c"]
    feedback: "Sent Ctrl+C"

  # Restart app (hands off)
  - id: "restart_app"
    triggers:
      - "restart no hands"
      - "restart"
      - "restart app"
    action: shell
    shell: "nohup bash /Users/jeremygatt/Projects/voice-command-mac/restart.sh > /dev/null 2>&1 &"
    feedback: "Restarting app"

  # Close application
  - id: "close_application"
    triggers:
      - "close application"
      - "quit application"
      - "close app"
      - "quit app"
    action: keystroke
    keys: ["cmd", "q"]
    feedback: "Closing application"

  # Manual mode - Move cursor
  - id: "move_left"
    triggers:
      - "left"
    action: move_cursor
    direction: "left"
    distance: 40
    feedback: "Moving cursor left"

  - id: "move_right"
    triggers:
      - "right"
    action: move_cursor
    direction: "right"
    distance: 40
    feedback: "Moving cursor right"

  - id: "move_up"
    triggers:
      - "up"
    action: move_cursor
    direction: "up"
    distance: 40
    feedback: "Moving cursor up"

  - id: "move_down"
    triggers:
      - "down"
    action: move_cursor
    direction: "down"
    distance: 40
    feedback: "Moving cursor down"

  # Manual mode - Click
  - id: "click_manual"
    triggers:
      - "click"
    action: click
    coordinates: [0, 0]  # Will use current cursor position
    feedback: "Clicked"

